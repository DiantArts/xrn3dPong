///////////////////////////////////////////////////////////////////////////
// Precompilled headers
///////////////////////////////////////////////////////////////////////////
#include <pch.hpp>

///////////////////////////////////////////////////////////////////////////
// Headers
///////////////////////////////////////////////////////////////////////////
#include <xrn/Engine/Configuration.hpp>
#include <xrn/Engine/Event/WindowResize.hpp>
#include <xrn/Engine/AScene.hpp>


///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
// Constructors
//
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
::xrn::engine::event::WindowResize::WindowResize(
    ::xrn::engine::vulkan::Window::Size size
)
    : m_size{ ::std::move(size) }
{}



///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
// Rule of 5
//
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
::xrn::engine::event::WindowResize::~WindowResize() = default;

///////////////////////////////////////////////////////////////////////////
::xrn::engine::event::WindowResize::WindowResize(
    ::xrn::engine::event::WindowResize&&
) noexcept = default;

///////////////////////////////////////////////////////////////////////////
auto ::xrn::engine::event::WindowResize::operator=(
    ::xrn::engine::event::WindowResize&&
) noexcept
    -> ::xrn::engine::event::WindowResize& = default;



///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
// Resolve
//
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
void ::xrn::engine::event::WindowResize::resolve(
    ::xrn::engine::AScene& scene
)
{
    scene.getWindow().resize(::std::move(m_size));
}
